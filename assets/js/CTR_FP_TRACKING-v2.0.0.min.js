!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__CTR_FP_TRACKING=t():n.__CTR_FP_TRACKING=t()}(window,(function(){return function(n){var t={};function r(_){if(t[_])return t[_].exports;var o=t[_]={i:_,l:!1,exports:{}};return n[_].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=t,r.d=function(n,t,_){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:_})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var _=Object.create(null);if(r.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(_,o,function(t){return n[t]}.bind(null,o));return _},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=2)}([function(n,t){n.exports=function(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}},function(n,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=r=function(n){return typeof n}:n.exports=r=function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(t)}n.exports=r},function(n,t,r){"use strict";r.r(t),r.d(t,"pushUserInfo",(function(){return S})),r.d(t,"track",(function(){return P})),r.d(t,"trackConversion",(function(){return N})),r.d(t,"trackExConversion",(function(){return D})),r.d(t,"trackProductPrice",(function(){return y})),r.d(t,"getFingerPrintId",(function(){return g}));var _=r(0),o=r.n(_),e=r(1),i=r.n(e);function c(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);t&&(_=_.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,_)}return r}var T=window.__CTR_FP_TRACKING_SETTINGS&&"dev"===window.__CTR_FP_TRACKING_SETTINGS.MODE?"https://ctrwow-dev-fingerprint-microservice.azurewebsites.net/api":"https://ctrwow-prod-fingerprint-microservice.azurewebsites.net/api",w=window.__CTR_FP_TRACKING_SETTINGS&&"dev"===window.__CTR_FP_TRACKING_SETTINGS.MODE?"https://ctrwowdevuser.blob.core.windows.net/assets/ctrwow_analytics.min.js":"https://d16hdrba6dusey.cloudfront.net/ctrwow_fp_analytics.min.js",C=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_GET_CODE?window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_GET_CODE:"",d=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_POST_CODE?window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_POST_CODE:"",u=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_ID;function a(){if(window.__CTR_ENV&&"CTR_APP"===window.__CTR_ENV||window.ctrwowUtils&&window.ctrwowUtils.isBuilderMode())throw new Error("Cannot track in ctr_wow app");return!0}function s(n,t){t||(t=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function f(n){return n&&"[object Function]"==={}.toString.call(n)}function R(){try{if(!window._CTR_TRACKING_ID)throw new Error("Missing _CTR_TRACKING_ID");if(!w)throw new Error("Missing FP_SCRIPT_SRC");return a(),new Promise((function(n){if(window.__CTRWOW_FINGER_PRINT_ID)n(window.__CTRWOW_FINGER_PRINT_ID);else if(document.getElementById("_ctr__fp_tracking_script")){if(!window.__CTRWOW_FINGER_PRINT_ID)var t=setInterval((function(){window.__CTRWOW_FINGER_PRINT_ID&&(n(window.__CTRWOW_FINGER_PRINT_ID),clearInterval(t))}),0)}else window._CTR_FingerprintGeneratedCallback=function(t){window.__CTRWOW_FINGER_PRINT_ID=t,n(t)},function(){try{var n=document.createElement("script");n.setAttribute("id","_ctr__fp_tracking_script"),n.setAttribute("src",w),n.setAttribute("async",""),document.head.appendChild(n)}catch(n){console.warn("injectCtrFpTrackingScript error: "+n)}}()}))}catch(n){return console.warn("getFingerPrintId error"+n),Promise.reject(!1)}}function I(n,t,r,_){(function(n,t){var r={};if(!n)throw new Error("API URL is missing!");var _={"content-type":"application/json"};return t&&"object"===i()(t)&&(r=Object.assign({method:"GET",headers:t.headers?Object.assign(_,t.headers):_},t)),window.fetch(n,r).then((function(n){if(204===n.status||205===n.status)return null;if(n.status>=200&&n.status<300)return n.text().then((function(n){try{return n?JSON.parse(n):{}}catch(n){return{}}}));throw JSON.stringify({status:n.status,statusText:n.statusText,response:n})}))})(T+"/"+n,t).then((function(n){f(r)&&r(n)})).catch((function(n){f(_)&&_(n)}))}function l(){window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),s("ctr_tracking__affid")?window._CTR_CUSTOM_DATA.affiliateId=s("ctr_tracking__affid"):window.__CTRWOW_CONFIG&&window.__CTRWOW_CONFIG.AFFILIATE_ID&&(window._CTR_CUSTOM_DATA.affiliateId=window.__CTRWOW_CONFIG.AFFILIATE_ID)}function A(){var n=s("ctr_tracking__click_id"),t=s("ctr_tracking__original_click_id");n&&t&&(window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),window._CTR_CUSTOM_DATA.clickId=n,window._CTR_CUSTOM_DATA.originalClickId=t)}function O(n){if(function(n){if(!window._CTR_TRACKING_ID)throw new Error("Missing TRACKING_ID");if(!n)throw new Error("Tracking Data invalid")}(n),!d)throw new Error("Missing FP_USERINFO_API_POST_CODE");if(!C)throw new Error("Missing FP_USERINFO_API_GET_CODE")}function S(n,t,r){try{O(n),R().then((function(_){I("userinfo/"+_+"?code="+d,{method:"POST",body:JSON.stringify({userInfo:n})},t,r)}))}catch(n){return console.warn("CTR_FP_TRACKING error: "+n),!1}return!0}function p(n,t,r,_){try{R().then((function(){window._EA_PUSH(n,t,!!_),r&&r()}))}catch(n){console.warn("CTR_FP_TRACKING push event error: "+n)}}u&&(window._CTR_TRACKING_ID=window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_ID,window._CTR_CUSTOM_DATA=JSON.parse(window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_CUSTOM_DATA||"{}")),u?(l(),A(),window._CTR_TRACKING_ID&&R().then((function(){console.log("init ctr fp tracking"),function(){try{return window.self!==window.top}catch(n){return!0}}()||$("a[call-to-action]").on("click",(function(n){var t=$(this).attr("payout");window._CTR_CUSTOM_DATA.ctaId=$(this).attr("cta-id"),window._CTR_CUSTOM_DATA.ctaName=$(this).attr("title")||$(this).text()||$(this).attr("id"),window._CTR_CUSTOM_DATA.clickId=$(this).attr("click-id"),window._CTR_CUSTOM_DATA.originalClickId||(window._CTR_CUSTOM_DATA.originalClickId=window._CTR_CUSTOM_DATA.clickId),t&&(window._CTR_CUSTOM_DATA.payout=t),p("CLICK",[],(function(){console.log("push CLICK event success"),console.log("push CLICK event success")}),!0)}))})).catch(console.warn)):(l(),A());var P=p,N=function(n,t){try{window._CTR_CUSTOM_DATA.conversionUrl=t,p("CONVERSION",[n||0])}catch(n){console.warn("CTR_FP_TRACKING pushConversion error: "+n)}},D=function(n){try{var t=s("ctr_tracking__site_id"),r=s("ctr_tracking__page_id"),_=s("ctr_tracking__conversion_url"),e=s("ctr_tracking__click_id"),i=s("ctr_tracking__original_click_id");if(t&&r&&e&&i){var T=window._CTR_TRACKING_ID,w=window._CTR_IS_SPA,C=window._CTR_CUSTOM_DATA?function(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o()(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}({},window._CTR_CUSTOM_DATA):window._CTR_CUSTOM_DATA;window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),window._CTR_IS_SPA=!0,window._CTR_TRACKING_ID=t,window._CTR_CUSTOM_DATA.conversionUrl=decodeURIComponent(_||""),window._CTR_CUSTOM_DATA.pageId=r,window._CTR_CUSTOM_DATA.siteId=t,window._CTR_CUSTOM_DATA.clickId=e,window._CTR_CUSTOM_DATA.originalClickId=i,p("CONVERSION",[n||0],(function(){window._CTR_IS_SPA=w,window._CTR_TRACKING_ID=T,window._CTR_CUSTOM_DATA=C}))}}catch(n){console.warn("CTR_FP_TRACKING pushConversion error: "+n)}},y=function(n){try{Object.keys(n)&&(window._CTR_CUSTOM_DATA.oneUnitProductPrice=n,p("PRODUCT_PRICE_LOADED",[]))}catch(n){console.warn("CTR_FP_TRACKING loadProductPrice error: "+n)}},g=R}])}));